<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>模板引擎示例</title>
    <style>
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>模板引擎演示</h2>
        <div id="app"></div>
        <div class="result" id="result"></div>
    </div>
    
    <script type="module">
        import { TemplateEngine } from './engine.js';

        // 创建模板引擎实例
        const engine = new TemplateEngine();

        // 示例数据
        const data = {
            title: '个人信息卡片',
            user: {
                name: '张三',
                age: 28,
                skills: ['JavaScript', 'Python', 'Java'],
                address: {
                    city: '北京',
                    district: '朝阳区'
                }
            },
            company: '科技有限公司',
            isVIP: true
        };

        // 模板字符串
        const template = `
            <div class="card">
                <h3>{{title}}</h3>
                <div class="info">
                    <p>姓名：{{user.name}}</p>
                    <p>年龄：{{user.age}}</p>
                    <p>城市：{{user.address.city}} {{user.address.district}}</p>
                    <p>公司：{{company}}</p>
                    <p>会员状态：{{isVIP ? 'VIP会员' : '普通用户'}}</p>
                </div>
            </div>
        `;

        // 渲染模板
        const result = engine.render(template, data);
        
        // 显示渲染结果
        document.getElementById('result').innerHTML = result;

        // 添加一个动态更新的例子
        setInterval(() => {
            
            const newData = {
                title: '更新后的个人信息 ' + new Date().toLocaleString(),
                user: {
                    name: '王小明',
                    age: 25,
                    skills: ['Vue', 'React', 'Node.js'],
                    address: {
                        city: '上海',
                        district: '浦东新区'
                    }
                },
                company: '创新科技股份有限公司',
                isVIP: false
            };
            console.log(engine.render(template, newData));
            document.getElementById('result').innerHTML = engine.render(template, newData);
        }, 2000);
    </script>
</body>

</html> 